<section class="filters-section">

  <div class="content my-container">

    <!-- Header Global -->
    <div class="section-header">
      <div class="header-content">
        <span class="badge">Engagement Num√©rique</span>
        <h2>PORTEZ NOS COULEURS</h2>
        <p>Utilisez nos filtres exclusifs sur vos r√©seaux pr√©f√©r√©s et partagez votre soutien.</p>
      </div>
      
      <!-- Compteur Total -->
      <div class="total-counter" *ngIf="totalUsage > 0">
        <span class="count">{{ totalUsage | number }}</span>
        <span class="label">utilisations totales</span>
      </div>
    </div>

    <!-- Loading -->
    <div class="loading-state" *ngIf="isLoading">
      <div class="spinner"></div>
      <p>Chargement des filtres...</p>
    </div>

    <!-- Empty State -->
    <div class="empty-state" *ngIf="!isLoading && filters.length === 0">
      <p>Bient√¥t disponible...</p>
    </div>

    <!-- Contenu Filtres -->
    <div class="filters-content" *ngIf="!isLoading">

      <!-- üéµ TIKTOK SECTION -->
      <div class="platform-group" *ngIf="tiktokFilters.length > 0">
        <div class="platform-header">
          <i class="pi pi-video tiktok-icon"></i>
          <h3>Filtres TikTok</h3>
        </div>

        <div class="filters-grid">
          <div 
            class="filter-card tiktok" 
            *ngFor="let filter of tiktokFilters; trackBy: trackByFilterId"
            (click)="onFilterClick(filter)">
            
            <div class="image-wrapper">
              <img [src]="filter.imageUrl" [alt]="filter.name">
              <div class="overlay">
                <i class="pi pi-play"></i>
                <span>Utiliser</span>
              </div>
            </div>

            <div class="card-info">
              <h4>{{ filter.name || 'Filtre TikTok' }}</h4>
              <span class="usage">
                <i class="pi pi-eye"></i> {{ filter.usageCount | number }}
              </span>
            </div>
          </div>
        </div>
      </div>

      <!-- üëª SNAPCHAT SECTION -->
      <div class="platform-group" *ngIf="snapchatFilters.length > 0">
        <div class="platform-header">
          <i class="pi pi-camera snap-icon"></i>
          <h3>Filtres Snapchat</h3>
        </div>

        <div class="filters-grid">
          <div 
            class="filter-card snapchat" 
            *ngFor="let filter of snapchatFilters; trackBy: trackByFilterId"
            (click)="onFilterClick(filter)">
            
            <div class="image-wrapper">
              <img [src]="filter.imageUrl" [alt]="filter.name">
              <div class="overlay">
                <i class="pi pi-camera"></i>
                <span>Scanner</span>
              </div>
            </div>

            <div class="card-info">
              <h4>{{ filter.name || 'Filtre Snapchat' }}</h4>
              <span class="usage">
                <i class="pi pi-eye"></i> {{ filter.usageCount | number }}
              </span>
            </div>
          </div>
        </div>
      </div>

    </div>

  </div>
</section>